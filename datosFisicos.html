<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Datos Físicos</title>
  <link rel="icon" href="favicon.ico" />
  <style>
    body {
      background-color: #121212;
      color: #eee;
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    label, select, input {
      display: block;
      margin: 15px 0;
      font-size: 16px;
    }

    .saludo {
      font-size: 22px;
      margin-bottom: 20px;
    }

    button {
      background-color: #444;
      color: white;
      padding: 10px 20px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #666;
    }

    .definicion {
      font-size: 14px;
      color: #aaa;
      margin-top: -10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="saludo" id="saludo"></div>

  <label for="edad">Edad:</label>
  <input type="number" id="edad" />

  <label for="peso">Peso (kg):</label>
  <input type="number" id="peso" />

  <label for="altura">Altura (m):</label>
  <input type="number" step="0.01" id="altura" placeholder="Ej: 1.75" />

  <label for="cuerpo">Tipo de cuerpo:</label>
  <select id="cuerpo" onchange="mostrarDefinicion()">
    <option value="">Selecciona una opción</option>
    <option value="endomorfo">Endomorfo</option>
    <option value="mesomorfo">Mesomorfo</option>
    <option value="ectomorfo">Ectomorfo</option>
  </select>
  <div class="definicion" id="definicion"></div>

  <button onclick="calcularContinuar()">Calcular y continuar</button>

  <script>
    // Mostrar saludo personalizado
    const nombre = localStorage.getItem("nombre");
    const sexo = localStorage.getItem("sexo");
    const saludo = document.getElementById("saludo");

    if (nombre && sexo) {
      const prefijo = sexo === "masculino" ? "Sr." : "Srta.";
      saludo.textContent = `Hola ${prefijo} ${nombre}, completa tus datos físicos`;
    }

    // Mostrar definición según tipo de cuerpo
    function mostrarDefinicion() {
      const tipo = document.getElementById("cuerpo").value;
      const def = document.getElementById("definicion");

      if (tipo === "endomorfo") {
        def.textContent = "Tendencia a acumular grasa, estructura ósea más ancha.";
      } else if (tipo === "mesomorfo") {
        def.textContent = "Fácil desarrollo muscular, cuerpo atlético natural.";
      } else if (tipo === "ectomorfo") {
        def.textContent = "Delgado por naturaleza, metabolismo rápido.";
      } else {
        def.textContent = "";
      }
    }

    // Calcular IMC y guardar datos
    function calcularContinuar() {
      const edad = parseInt(document.getElementById("edad").value);
      const peso = parseFloat(document.getElementById("peso").value);
      const altura = parseFloat(document.getElementById("altura").value);
      const cuerpo = document.getElementById("cuerpo").value;

      if (!edad || !peso || !altura || !cuerpo) {
        alert("Por favor, completa todos los campos.");
        return;
      }

      const imc = peso / (altura * altura);
      let categoriaIMC = "";

      if (imc < 18.5) categoriaIMC = "bajo peso";
      else if (imc < 25) categoriaIMC = "peso normal";
      else categoriaIMC = "sobrepeso";

      localStorage.setItem("edad", edad);
      localStorage.setItem("peso", peso);
      localStorage.setItem("altura", altura);
      localStorage.setItem("tipoCuerpo", cuerpo);
      localStorage.setItem("imc", imc.toFixed(1));
      localStorage.setItem("categoriaIMC", categoriaIMC);

      window.location.href = "deporte.html";
    }
  </script>
</body>
</html>
