<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Plan de Entrenamiento Personalizado</title>
  <link rel="icon" href="favicon.ico" />
  <style>
    body {
      background-color: #0e0e0e;
      color: #f1f1f1;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
    }

    h1, h2 {
      color: #ffffff;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: #1a1a1a;
      border-radius: 8px;
      box-shadow: 0 0 10px #000;
    }

    .plan-dia {
      background-color: #2a2a2a;
      border: 1px solid #444;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .plan-dia h3 {
      margin-top: 0;
      color: #ccc;
    }

    button {
      background-color: #333;
      color: #eee;
      padding: 12px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
    }

    button:hover {
      background-color: #555;
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: #777;
      font-size: 14px;
    }

    @media (max-width: 600px) {
      .container {
        padding: 10px;
      }

      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Entrenamiento Personalizado</h1>
    <div id="planEntrenamiento">
      <!-- Aquí se insertará el plan generado por JS -->
    </div>

    <button onclick="window.location.href='menu.html'">Volver al Menú</button>

    <footer>By: Juan Pablo Cruz</footer>
  </div>

  <script>
    // Obtener datos almacenados
    const datosUsuario = JSON.parse(localStorage.getItem("usuario")) || {};
    const deporte = localStorage.getItem("deporte") || "No especificado";
    const subdisciplina = localStorage.getItem("disciplina") || "No especificado";
    const imc = parseFloat(localStorage.getItem("imc")) || 0;
    const tipoCuerpo = localStorage.getItem("tipoCuerpo") || "ectomorfo";
    const edad = parseInt(datosUsuario.edad || 25);
    const sexo = datosUsuario.sexo || "masculino";
    const horas = localStorage.getItem("horasPorSemana") || "2-5";
    const dias = parseInt(localStorage.getItem("diasEntrenamiento")) || 4;

    function generarEntrenamiento(dia) {
      // Puedes expandir esta función para generar rutinas aún más detalladas
      const base = `${deporte} - ${subdisciplina}`;
      const intensidad = (imc > 25) ? "enfocado en pérdida de grasa y técnica" :
                        (imc < 18.5) ? "orientado a ganar masa y coordinación" :
                        "balanceado con énfasis en rendimiento";

      const cuerpo = tipoCuerpo === "endomorfo" ? "con bloques de cardio"
                    : tipoCuerpo === "ectomorfo" ? "con ejercicios de fuerza"
                    : "con entrenamientos mixtos";

      const nivel = edad < 30 ? "alta intensidad" :
                    edad < 50 ? "media intensidad" : "baja intensidad";

      return `
        <div class="plan-dia">
          <h3>Día ${dia}</h3>
          <p><strong>Disciplina:</strong> ${base}</p>
          <p><strong>Objetivo del día:</strong> Entrenamiento ${intensidad}, adaptado para ${tipoCuerpo}.</p>
          <p><strong>Bloques sugeridos:</strong></p>
          <ul>
            <li>Calentamiento dinámico (10-15 min)</li>
            <li>Ejercicios principales según técnica de ${subdisciplina} (${nivel})</li>
            <li>Refuerzo cruzado con ${
              deporte === "ciclismo" ? "core y zona lumbar" :
              deporte === "natación" ? "piernas y movilidad de hombros" :
              deporte === "escalada" ? "fuerza de agarre y antebrazos" :
              "ejercicios funcionales"
            }</li>
            <li>${cuerpo}</li>
            <li>Estiramientos o recuperación activa (10 min)</li>
          </ul>
        </div>
      `;
    }

    const contenedor = document.getElementById("planEntrenamiento");
    let contenido = "";

    for (let i = 1; i <= dias; i++) {
      contenido += generarEntrenamiento(i);
    }

    contenedor.innerHTML = contenido;
  </script>
</body>
</html>
