<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <title>Entrenamiento - Mi FitApp</title>
  <style>
    body {
      background-color: #121212;
      color: #eee;
      font-family: 'Arial', sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
      color: #fff;
    }
    .datos-usuario, .plan {
      background: #222;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      box-shadow: 0 0 10px #000;
    }
    .dia {
      margin-bottom: 18px;
      padding: 14px;
      background: #333;
      border-radius: 10px;
      line-height: 1.4;
    }
    .dia strong {
      color: #ffd700;
    }
    .boton-volver {
      display: block;
      margin: 30px auto 0;
      padding: 12px 24px;
      background-color: #555;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
      text-align: center;
      text-decoration: none;
      width: 200px;
    }
    .boton-volver:hover {
      background-color: #777;
    }
    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 14px;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>Tu Plan de Entrenamiento Semanal</h1>
  <div class="datos-usuario" id="datosUsuario"></div>
  <div id="plan" class="plan"></div>
  <button class="boton-volver" onclick="window.location.href='menu.html'">Volver al menú</button>
  <footer>By: Juan Pablo Cruz</footer>

  <script>
    // Obtener datos de usuario y deporte
    const nombre = localStorage.getItem('nombre') || 'Usuario';
    const sexo = localStorage.getItem('sexo') || 'No especificado';
    const edad = localStorage.getItem('edad') || 'No especificada';
    const imc = parseFloat(localStorage.getItem('imc')) || 0;
    let estadoIMC = '';
    if (imc < 18.5) estadoIMC = 'Bajo peso';
    else if (imc <= 24.9) estadoIMC = 'Peso normal';
    else estadoIMC = 'Sobrepeso';

    // Detecta y normaliza el deporte
    let deporteRaw = (localStorage.getItem('deporte') || '').toLowerCase().trim();
    // Normalizar para distintos nombres posibles
    function deporteKey(d) {
      d = d.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/\s+/g, '');
      if (["ciclismo"].includes(d)) return "ciclismo";
      if (["natacion"].includes(d)) return "natacion";
      if (["atletismo"].includes(d)) return "atletismo";
      if (["escalada"].includes(d)) return "escalada";
      if (["buceo"].includes(d)) return "buceo";
      if (["futbol"].includes(d)) return "futbol";
      if (["rugby"].includes(d)) return "rugby";
      if (["basquetbol","basketball","basquet"].includes(d)) return "basquetbol";
      if (["gym","gimnasio"].includes(d)) return "gym";
      if (["amm","artesmarcialesmixtas","artesmarciales"].includes(d)) return "amm";
      return "gym";
    }
    const deporte = deporteKey(deporteRaw);

    // Mostrar datos de usuario
    document.getElementById('datosUsuario').innerHTML = `
      <h2>Datos del Usuario</h2>
      <p><strong>Nombre:</strong> ${nombre}</p>
      <p><strong>Sexo:</strong> ${sexo}</p>
      <p><strong>Edad:</strong> ${edad} años</p>
      <p><strong>IMC:</strong> ${imc} <span style="color:#ffd700;">(${estadoIMC})</span></p>
      <p><strong>Deporte:</strong> ${deporte.charAt(0).toUpperCase() + deporte.slice(1)}</p>
    `;

    // Entrenamientos por deporte e IMC
    const planesEntrenamiento = {
      ciclismo: {
        bajo: [
          "Paseo suave en bicicleta 45 min + estiramientos",
          "Entrenamiento de fuerza con peso corporal (sentadillas, planchas)",
          "Bicicleta estática 30 min ritmo suave",
          "Yoga para movilidad y respiración",
          "Salida en bici 1 hora con ritmo bajo",
          "Entrenamiento funcional (bandas elásticas)",
          "Descanso activo o caminata"
        ],
        normal: [
          "Entrenamiento de resistencia en bici 1.5 horas",
          "Rutina fuerza para piernas y core (pesas libres)",
          "Intervalos en bici (HIIT) 30 min",
          "Yoga para fuerza y flexibilidad",
          "Paseo largo en bici 2 horas",
          "Entrenamiento funcional y pliometría",
          "Descanso o actividad ligera"
        ],
        sobrepeso: [
          "Bicicleta estática 30 min a ritmo suave",
          "Ejercicios de fuerza con peso corporal y bandas",
          "Caminata rápida 40 min",
          "Yoga suave para movilidad articular",
          "Bicicleta paseo 45 min terreno plano",
          "Ejercicios funcionales de bajo impacto",
          "Descanso activo"
        ]
      },
      natacion: {
        bajo: [
          "Nado suave 30 min + estiramientos",
          "Fuerza ligera para brazos y core",
          "Nado continuo 40 min ritmo bajo",
          "Yoga para flexibilidad",
          "Técnica y respiración en natación",
          "Nado suave 45 min",
          "Descanso activo"
        ],
        normal: [
          "Nado continuo 60 min, varios estilos",
          "Entrenamiento de fuerza en seco (pesas libres)",
          "Intervalos natación HIIT 30 min",
          "Yoga para fuerza y flexibilidad",
          "Técnica avanzada y velocidad",
          "Nado largo 1 hora",
          "Descanso o natación suave"
        ],
        sobrepeso: [
          "Nado suave 20-30 min para baja presión articular",
          "Movilidad y fuerza ligera",
          "Nado lento 30 min",
          "Yoga suave para movilidad",
          "Técnica básica de natación",
          "Nado suave 30 min",
          "Descanso activo"
        ]
      },
      atletismo: {
        bajo: [
          "Caminata rápida 30 min + estiramientos",
          "Entrenamiento de técnica básica de carrera",
          "Carrera suave 20 min",
          "Yoga para flexibilidad y respiración",
          "Fuerza para piernas (peso corporal)",
          "Carrera continua 30 min ritmo bajo",
          "Descanso activo"
        ],
        normal: [
          "Entrenamiento de velocidad e intervalos 40 min",
          "Técnica de salto y pliometría",
          "Carrera continua 45 min",
          "Yoga para fuerza y flexibilidad",
          "Fuerza con pesas para piernas y core",
          "Series de velocidad y resistencia",
          "Descanso o trote suave"
        ],
        sobrepeso: [
          "Caminata rápida 45 min",
          "Ejercicios de fuerza ligera para piernas",
          "Caminata con intervalos suaves",
          "Yoga suave para movilidad articular",
          "Caminata larga y estiramientos",
          "Cardio bajo impacto (bicicleta o natación)",
          "Descanso activo"
        ]
      },
      escalada: {
        bajo: [
          "Escalada indoor fácil 1 hora",
          "Fuerza de agarre y core ligera",
          "Estiramientos y movilidad articular",
          "Yoga para equilibrio",
          "Escalada técnica y resistencia 45 min",
          "Ejercicios funcionales para brazos y piernas",
          "Descanso activo"
        ],
        normal: [
          "Escalada indoor 1.5 horas con rutas variadas",
          "Entrenamiento de fuerza para agarre y core",
          "Yoga para fuerza y flexibilidad",
          "Escalada técnica avanzada 1 hora",
          "Circuito funcional de fuerza y resistencia",
          "Estiramientos y recuperación activa",
          "Descanso"
        ],
        sobrepeso: [
          "Escalada suave indoor 45 min",
          "Ejercicios de movilidad y fuerza ligera",
          "Caminata o bici suave 30 min",
          "Yoga suave para movilidad",
          "Escalada técnica baja intensidad 30 min",
          "Estiramientos y fortalecimiento",
          "Descanso activo"
        ]
      },
      buceo: {
        bajo: [
          "Entrenamiento cardiovascular ligero 30 min",
          "Ejercicios de fuerza para espalda y core",
          "Estiramientos y movilidad",
          "Yoga para respiración y flexibilidad",
          "Práctica de flotabilidad y técnica",
          "Cardio suave 30 min",
          "Descanso activo"
        ],
        normal: [
          "Cardio HIIT 30 min",
          "Fuerza para espalda y core con pesas",
          "Yoga para fuerza y respiración",
          "Práctica de flotabilidad y técnica avanzada",
          "Cardio continuo 45 min",
          "Estiramientos y recuperación activa",
          "Descanso"
        ],
        sobrepeso: [
          "Caminata rápida 40 min",
          "Ejercicios de fuerza ligera y movilidad",
          "Yoga suave para respiración",
          "Cardio bajo impacto 30 min",
          "Técnica básica de buceo y flotabilidad",
          "Estiramientos y recuperación",
          "Descanso activo"
        ]
      },
      futbol: {
        bajo: [
          "Entrenamiento básico de pases y control de balón",
          "Carrera suave y movilidad articular",
          "Fuerza con peso corporal",
          "Yoga para flexibilidad",
          "Técnica y dribbling ligero",
          "Juego recreativo suave",
          "Descanso activo"
        ],
        normal: [
          "Entrenamiento de resistencia y velocidad 1 hora",
          "Fuerza para piernas y core con pesas",
          "Técnica avanzada y táctica",
          "Yoga para fuerza y movilidad",
          "Partido o juego intenso",
          "Recuperación activa y estiramientos",
          "Descanso"
        ],
        sobrepeso: [
          "Caminata rápida con balón 30 min",
          "Ejercicios básicos de fuerza y movilidad",
          "Técnica sencilla y control de balón",
          "Yoga suave para movilidad",
          "Juego ligero y táctico",
          "Caminata larga y estiramientos",
          "Descanso activo"
        ]
      },
      rugby: {
        bajo: [
          "Entrenamiento básico de pase y recepción",
          "Cardio suave 30 min",
          "Fuerza con peso corporal",
          "Yoga para equilibrio y flexibilidad",
          "Técnicas de tackle ligeras",
          "Juego recreativo suave",
          "Descanso activo"
        ],
        normal: [
          "Entrenamiento de resistencia y fuerza 1 hora",
          "Técnica avanzada y tácticas",
          "Entrenamiento de velocidad y agilidad",
          "Yoga para fuerza y movilidad",
          "Partido o práctica intensa",
          "Recuperación activa",
          "Descanso"
        ],
        sobrepeso: [
          "Caminata rápida 30-40 min",
          "Ejercicios básicos de fuerza y movilidad",
          "Técnica ligera y pase",
          "Yoga suave para movilidad",
          "Juego ligero táctico",
          "Caminata larga y estiramientos",
          "Descanso activo"
        ]
      },
      basquetbol: {
        bajo: [
          "Entrenamiento básico de dribbling y pases",
          "Cardio suave 30 min",
          "Fuerza con peso corporal",
          "Yoga para flexibilidad y respiración",
          "Técnica de tiro ligero",
          "Juego recreativo suave",
          "Descanso activo"
        ],
        normal: [
          "Entrenamiento de resistencia y velocidad",
          "Técnica avanzada y táctica",
          "Fuerza para piernas y core",
          "Yoga para fuerza y movilidad",
          "Partido o práctica intensa",
          "Recuperación activa",
          "Descanso"
        ],
        sobrepeso: [
          "Caminata rápida con balón 30 min",
          "Ejercicios básicos de fuerza y movilidad",
          "Técnica sencilla y control de balón",
          "Yoga suave para movilidad",
          "Juego ligero y táctico",
          "Caminata larga y estiramientos",
          "Descanso activo"
        ]
      },
      gym: {
        bajo: [
          "Entrenamiento ligero con máquinas (3x12 reps, peso bajo)",
          "Cardio suave 30 min en cinta o bici",
          "Rutina cuerpo completo con peso corporal, intensidad baja",
          "Yoga y estiramientos para recuperación",
          "Fuerza funcional con bandas elásticas",
          "Cardio moderado 40 min (bicicleta o remo)",
          "Descanso activo (caminata o estiramientos)"
        ],
        normal: [
          "Fuerza con pesas libres (4x10 reps)",
          "Cardio HIIT 20 min + core (plancha, crunch)",
          "Piernas y glúteos con peso libre",
          "Circuito funcional + estiramientos",
          "Cardio continuo 45 min (bici, remo, trote)",
          "Yoga para fuerza y flexibilidad",
          "Caminata larga o descanso activo"
        ],
        sobrepeso: [
          "Ejercicios bajo impacto en máquinas (3x15 reps, peso bajo)",
          "Caminata rápida 40 min + movilidad articular",
          "Fuerza con peso corporal y bandas",
          "Yoga suave para movilidad y respiración",
          "Cardio suave 30 min + estiramientos",
          "Natación o bici estacionaria 30 min",
          "Descanso activo (paseo o yoga suave)"
        ]
      },
      amm: {
        bajo: [
          "Técnica básica de golpeo y defensa 30 min",
          "Cardio suave y movilidad articular",
          "Fuerza ligera con peso corporal",
          "Yoga para flexibilidad y respiración",
          "Entrenamiento de resistencia 40 min",
          "Técnica y sparring ligero",
          "Descanso activo"
        ],
        normal: [
          "Entrenamiento de fuerza y resistencia 1 hora",
          "Técnica avanzada de golpeo y defensa",
          "Cardio HIIT 30 min",
          "Yoga para fuerza y flexibilidad",
          "Sparring y práctica técnica",
          "Circuito funcional intenso",
          "Descanso"
        ],
        sobrepeso: [
          "Cardio bajo impacto 30 min",
          "Técnica básica y movilidad",
          "Fuerza ligera con peso corporal",
          "Yoga suave para relajación",
          "Cardio suave y estiramientos",
          "Técnica ligera y recuperación",
          "Descanso activo"
        ]
      }
    };

    // Determinar tipo IMC
    let tipoIMC = "";
    if (imc < 18.5) tipoIMC = "bajo";
    else if (imc <= 24.9) tipoIMC = "normal";
    else tipoIMC = "sobrepeso";

    // Días de la semana
    const dias = ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado", "Domingo"];
    // Selecciona el plan adecuado
    const plan = planesEntrenamiento[deporte] && planesEntrenamiento[deporte][tipoIMC];

    // Mostrar plan semanal
    const planDiv = document.getElementById('plan');
    if (!plan) {
      planDiv.innerHTML = `<p>No hay un plan para este deporte o IMC.</p>`;
    } else {
      let html = '<h2>Plan Semanal de Entrenamiento</h2>';
      plan.forEach((actividad, i) => {
        html += `
          <div class="dia">
            <strong>${dias[i]}:</strong> ${actividad}
          </div>
        `;
      });
      planDiv.innerHTML = html;
    }
  </script>
</body>
</html>
